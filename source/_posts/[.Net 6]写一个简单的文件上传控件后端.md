---
thumbnail: >-
  images/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6XIOWwjw==,size_20,color_FFFFFF,t_70,g_se,x_16
title: '[.Net 6]写一个简单的文件上传控件后端'
excerpt: >-
  此项目是配合上一篇文章[Vue]写一个简单的文件上传控件_林
  小的博客-CSDN博客这个后端是一个FakeApi，目标是调用文件上传获得File对象。的后端程序，使用.Net 6项目框架搭建，开发前请安装Visual
  Studio 2022Visual Studio 2022 版本 17.1 发行说明 | Microsoft Docs搭建项目框架新建一个.Net 6
  项目，选择Asp.Net Core Web Api 模板首先定义文件模型： [Serializable]  .
tags:
  - .net
  - asp.net core
toc: true
recommend: 1
keywords: categories-java
uniqueId: '2022-04-20 15:14:00/[.Net 6]写一个简单的文件上传控件后端.html'
abbrlink: 44b52f45
date: 2022-04-20 15:14:00
cover:
description:
categories:
---
<span data-cke-copybin-start="1"><span data-cke-copybin-start="1">​</span></span><span id="cke_bm_735S">此项目是配合上一篇文章<a href="https://www.cnblogs.com/jevonsflash/p/16169944.html">[Vue]写一个简单的文件上传控件 - 林晓lx - 博客园 (cnblogs.com)</a></span><p>的后端程序，使用.Net 6项目框架搭建，开发前请安装Visual Studio 2022<span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="10" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" data-cke-enter-mode="2" data-cke-saved-href="https://docs.microsoft.com/zh-CN/visualstudio/releases/2022/release-notes" data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fdocs.microsoft.com%2Fzh-CN%2Fvisualstudio%2Freleases%2F2022%2Frelease-notes%22%2C%22text%22%3A%22Visual%20Studio%202022%20%E7%89%88%E6%9C%AC%2017.1%20%E5%8F%91%E8%A1%8C%E8%AF%B4%E6%98%8E%20%7C%20Microsoft%20Docs%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%2239biv5-1650438638513%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="Visual Studio 2022 版本 17.1 发行说明 | Microsoft Docs" data-widget="csdnlink" href="https://docs.microsoft.com/zh-CN/visualstudio/releases/2022/release-notes" title="Visual Studio 2022 版本 17.1 发行说明 | Microsoft Docs">Visual Studio 2022 版本 17.1 发行说明 | Microsoft Docs</a></span></p><p>这个后端是一个FakeApi，目标是调用文件上传获得File对象。</p><p><strong>搭建项目框架</strong></p><p>新建一个.Net 6 项目，选择Asp.Net Core Web Api 模板</p><p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="图像" data-cke-filter="off" data-cke-widget-id="9" data-cke-widget-wrapper="1"><img alt="" class="cke_widget_element" data-cke-saved-src="https://img-blog.csdnimg.cn/664338db7db547c1932ce0d808cba3b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6XIOWwjw==,size_20,color_FFFFFF,t_70,g_se,x_16" data-cke-widget-data="%7B%22hasCaption%22%3Afalse%2C%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F664338db7db547c1932ce0d808cba3b6.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_d3F5LXplbmhlaQ%2Cshadow_50%2Ctext_Q1NETiBA5p6XIOWwjw%3D%3D%2Csize_20%2Ccolor_FFFFFF%2Ct_70%2Cg_se%2Cx_16%22%2C%22alt%22%3A%22%22%2C%22width%22%3A%22500%22%2C%22height%22%3A%22313%22%2C%22lock%22%3Atrue%2C%22align%22%3A%22none%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="image" height="313" src="664338db7db547c1932ce0d808cba3b6.png" width="500"/></span></p><p><strong>定义文件模型</strong></p><div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="8" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22cs%22%2C%22code%22%3A%22%20%5BSerializable%5D%5Cn%20%20%20%20public%20class%20File%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%5BRequired%5D%5Cn%20%20%20%20%20%20%20%20public%20string%20FileName%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20string%20MimeType%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20FileType%20FileType%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20byte%5B%5D%20Content%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20Guid%3F%20ParentId%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20long%3F%20OwnerUserId%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20public%20string%20FileContainerName%20%7B%20get%3B%20set%3B%20%7D%5Cn%5Cn%5Cn%20%20%20%20%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-cs hljs"> [<span class="hljs-meta">Serializable]
    <span class="hljs-keyword">public <span class="hljs-keyword">class <span class="hljs-title">File
    {
        [<span class="hljs-meta">Required]
        <span class="hljs-keyword">public <span class="hljs-built_in">string FileName { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public <span class="hljs-built_in">string MimeType { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public FileType FileType { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public <span class="hljs-built_in">byte[] Content { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public Guid? ParentId { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public <span class="hljs-built_in">long? OwnerUserId { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
        <span class="hljs-keyword">public <span class="hljs-built_in">string FileContainerName { <span class="hljs-keyword">get; <span class="hljs-keyword">set; }
    }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
</div><p>文件类型枚举：1 为文件夹，2 为常规文件</p><div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="7" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22cs%22%2C%22code%22%3A%22%20%20%20%20public%20enum%20FileType%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20Directory%20%3D%201%2C%5Cn%20%20%20%20%20%20%20%20RegularFile%20%3D%202%5Cn%20%20%20%20%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-cs hljs">    <span class="hljs-keyword">public <span class="hljs-built_in">enum FileType
    {
        Directory = <span class="hljs-number">1,
        RegularFile = <span class="hljs-number">2
    }</span></span></span></span></code></pre>
</div><p><strong>编写文件上传功能代码</strong></p><p>添加控制器FileController.cs，并键入r</p><div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="6" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22cs%22%2C%22code%22%3A%22%20%20%20%20%20%20%20%20%2F%2F%2F%20%3Csummary%3E%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%3C%2Fsummary%3E%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%3Cparam%20name%3D%5C%22input%5C%22%3E%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BC%A0%E8%BE%93%E5%AF%B9%E8%B1%A1%3C%2Fparam%3E%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%3Creturns%3E%3C%2Freturns%3E%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%3Cexception%20cref%3D%5C%22NoUploadedFileException%5C%22%3E%3C%2Fexception%3E%5Cn%20%20%20%20%20%20%20%20%5BRoute(%5C%22upload%5C%22)%5D%5Cn%20%20%20%20%20%20%20%20%5BHttpPost%5D%5Cn%20%20%20%20%20%20%20%20%5BRequestFormLimits(ValueLengthLimit%20%3D%20int.MaxValue%2C%20MultipartBodyLengthLimit%20%3D%20long.MaxValue)%5D%5Cn%20%20%20%20%20%20%20%20%5BRequestSizeLimit(long.MaxValue)%5D%5Cn%20%20%20%20%20%20%20%20public%20async%20Task%3Cbool%3E%20ActionCreateAsync(%5BFromForm%5D%20CreateFileInput%20input)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%8A%E4%BC%A0%E4%BA%86%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(input.File%20%3D%3D%20null)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20NoUploadedFileException()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20fileName%20%3D%20input.File.FileName%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20await%20using%20var%20memoryStream%20%3D%20new%20System.IO.MemoryStream()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%B0%86%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E5%A4%8D%E5%88%B6%E5%88%B0%E6%B5%81%E4%B8%AD%5Cn%20%20%20%20%20%20%20%20%20%20%20%20await%20input.File.CopyToAsync(memoryStream)%3B%5Cn%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BD%93%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20file%20%3D%20new%20File%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20FileContainerName%20%3D%20input.FileContainerName%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20FileName%20%3D%20fileName%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MimeType%20%3D%20input.File.ContentType%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20FileType%20%3D%20input.FileType%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ParentId%20%3D%20input.ParentId%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20OwnerUserId%20%3D%20input.OwnerUserId%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E8%AF%BB%E5%8F%96%E6%B5%81%E6%9D%A5%E8%8E%B7%E5%BE%97%E5%AE%8C%E6%95%B4%E7%9A%84%E6%96%87%E4%BB%B6%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%86%85%E5%AE%B9%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Content%20%3D%20memoryStream.ToArray()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%24%5C%22%E6%96%87%E4%BB%B6%E5%90%8D%3A%7Bfile.FileName%7D%5C%22%2C%20%24%5C%22%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%3A%7Bfile.Content.Length%7D%20%E5%AD%97%E8%8A%82%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-cs hljs">        <span class="hljs-comment"><span class="hljs-doctag">/// <span class="hljs-doctag">&lt;summary&gt;
        <span class="hljs-comment"><span class="hljs-doctag">/// 上传文件接口
        <span class="hljs-comment"><span class="hljs-doctag">/// <span class="hljs-doctag">&lt;/summary&gt;
        <span class="hljs-comment"><span class="hljs-doctag">/// <span class="hljs-doctag">&lt;param name="input"&gt;文件上传传输对象<span class="hljs-doctag">&lt;/param&gt;
        <span class="hljs-comment"><span class="hljs-doctag">/// <span class="hljs-doctag">&lt;returns&gt;<span class="hljs-doctag">&lt;/returns&gt;
        <span class="hljs-comment"><span class="hljs-doctag">/// <span class="hljs-doctag">&lt;exception cref="NoUploadedFileException"&gt;<span class="hljs-doctag">&lt;/exception&gt;
        [<span class="hljs-meta">Route(<span class="hljs-string">"upload")]
        [<span class="hljs-meta">HttpPost]
        [<span class="hljs-meta">RequestFormLimits(ValueLengthLimit = int.MaxValue, MultipartBodyLengthLimit = long.MaxValue)]
        [<span class="hljs-meta">RequestSizeLimit(long.MaxValue)]
        <span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">async Task&lt;<span class="hljs-built_in">bool&gt; <span class="hljs-title">ActionCreateAsync(<span class="hljs-params">[FromForm] CreateFileInput input)
        {
            <span class="hljs-comment">//判断是否上传了文件内容
            <span class="hljs-keyword">if (input.File == <span class="hljs-literal">null)
            {
                <span class="hljs-keyword">throw <span class="hljs-keyword">new NoUploadedFileException();
            }           
            <span class="hljs-keyword">var fileName = input.File.FileName;
            <span class="hljs-keyword">await <span class="hljs-keyword">using <span class="hljs-keyword">var memoryStream = <span class="hljs-keyword">new System.IO.MemoryStream();
            <span class="hljs-comment">//将文件内容复制到流中
            <span class="hljs-keyword">await input.File.CopyToAsync(memoryStream);
            <span class="hljs-comment">//创建文件类的实体
            <span class="hljs-keyword">var file = <span class="hljs-keyword">new File
            {
                FileContainerName = input.FileContainerName,
                FileName = fileName,
                MimeType = input.File.ContentType,
                FileType = input.FileType,
                ParentId = input.ParentId,
                OwnerUserId = input.OwnerUserId,
                <span class="hljs-comment">//读取流来获得完整的文件二进制内容
                Content = memoryStream.ToArray()
            };        
            Console.WriteLine(<span class="hljs-string">$"文件名:<span class="hljs-subst">{file.FileName}", <span class="hljs-string">$"文件大小:<span class="hljs-subst">{file.Content.Length} 字节");
            <span class="hljs-keyword">return <span class="hljs-literal">true;

        }
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
</div><p><strong>注意：</strong></p><p><strong>RequestSizeLimit是Asp.Net请求大小限制，默认只有30M。</strong></p><p><strong>RequestFormLimits是表单上传的文件长度限制</strong></p><p>新建Program.cs文件，键入一下代码</p><div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="5" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22cs%22%2C%22code%22%3A%22var%20builder%20%3D%20WebApplication.CreateBuilder(args)%3B%5Cnbuilder.Services.AddCors(options%20%3D%3E%5Cn%7B%5Cn%20%20%20%20options.AddPolicy(name%3A%20%5C%22default%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20policy%20%3D%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20policy.AllowAnyMethod()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.AllowAnyHeader()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.AllowAnyOrigin()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%5Cn%7D)%3B%5Cn%2F%2F%20Add%20services%20to%20the%20container.%5Cn%5Cnbuilder.Services.AddControllers()%3B%5Cn%5Cnvar%20app%20%3D%20builder.Build()%3B%5Cn%5Cnapp.UseCors(%5C%22default%5C%22)%3B%5Cn%5Cn%5Cn%2F%2F%20Configure%20the%20HTTP%20request%20pipeline.%5Cn%5Cnapp.UseAuthorization()%3B%5Cn%5Cnapp.MapControllers()%3B%5Cn%5Cnapp.MapGet(%5C%22%2Freadme%5C%22%2C%20()%20%3D%3E%20%7B%20return%20%5C%22%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%9C%8D%E5%8A%A1%E5%B7%B2%E5%90%AF%E5%8A%A8%EF%BC%8C%E8%AF%B7post%E8%AF%B7%E6%B1%82%E8%87%B3http%3A%2F%2Flocalhost%3A14149%2Ffile%2Fupload%5C%22%3B%20%7D)%3B%5Cn%5Cnapp.Run()%3B%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-cs hljs"><span class="hljs-keyword">var builder = WebApplication.CreateBuilder(args);
builder.Services.AddCors(options =&gt;
{
    options.AddPolicy(name: <span class="hljs-string">"default",
                      policy =&gt;
                      {
                          policy.AllowAnyMethod()
                                .AllowAnyHeader()
                                .AllowAnyOrigin();
                      });
});
<span class="hljs-comment">// Add services to the container.

builder.Services.AddControllers();

<span class="hljs-keyword">var app = builder.Build();

app.UseCors(<span class="hljs-string">"default");


<span class="hljs-comment">// Configure the HTTP request pipeline.

app.UseAuthorization();

app.MapControllers();

app.MapGet(<span class="hljs-string">"/readme", () =&gt; { <span class="hljs-keyword">return <span class="hljs-string">"文件上传服务已启动，请post请求至http://localhost:14149/file/upload"; });

app.Run();</span></span></span></span></span></span></span></span></span></code></pre>
</div><p><strong> 测试</strong></p><p>项目根目录运行</p><div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="4" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22dotnet%20run%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs">dotnet run</code></pre>
</div><p> <span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="图像" data-cke-filter="off" data-cke-widget-id="3" data-cke-widget-wrapper="1"><img alt="" class="cke_widget_element" data-cke-saved-src="https://img-blog.csdnimg.cn/4fe1e29a6e0a40c4b89a5138f47e9bbf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6XIOWwjw==,size_20,color_FFFFFF,t_70,g_se,x_16" data-cke-widget-data="%7B%22hasCaption%22%3Afalse%2C%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F4fe1e29a6e0a40c4b89a5138f47e9bbf.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_d3F5LXplbmhlaQ%2Cshadow_50%2Ctext_Q1NETiBA5p6XIOWwjw%3D%3D%2Csize_20%2Ccolor_FFFFFF%2Ct_70%2Cg_se%2Cx_16%22%2C%22alt%22%3A%22%22%2C%22width%22%3A%22590%22%2C%22height%22%3A%22494%22%2C%22lock%22%3Atrue%2C%22align%22%3A%22none%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="image" height="494" src="4fe1e29a6e0a40c4b89a5138f47e9bbf.png" width="590"/></span></p><p>上传过的文件将打印在控制台中：</p><p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="图像" data-cke-filter="off" data-cke-widget-id="2" data-cke-widget-wrapper="1"><img alt="" class="cke_widget_element" data-cke-saved-src="https://img-blog.csdnimg.cn/546965e9623b4f71b498dfe943fa10cd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6XIOWwjw==,size_20,color_FFFFFF,t_70,g_se,x_16" data-cke-widget-data="%7B%22hasCaption%22%3Afalse%2C%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F546965e9623b4f71b498dfe943fa10cd.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_d3F5LXplbmhlaQ%2Cshadow_50%2Ctext_Q1NETiBA5p6XIOWwjw%3D%3D%2Csize_20%2Ccolor_FFFFFF%2Ct_70%2Cg_se%2Cx_16%22%2C%22alt%22%3A%22%22%2C%22width%22%3A%22534%22%2C%22height%22%3A%22468%22%2C%22lock%22%3Atrue%2C%22align%22%3A%22none%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="image" height="468" src="546965e9623b4f71b498dfe943fa10cd.png" width="534"/></span></p><p>测试已通过</p><p>完整代码：</p><p><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="1" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" data-cke-enter-mode="2" data-cke-saved-href="https://github.com/jevonsflash/file-uploader-sample/tree/master/api" data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fgithub.com%2Fjevonsflash%2Ffile-uploader-sample%2Ftree%2Fmaster%2Fapi%22%2C%22text%22%3A%22file-uploader-sample%2Fapi%20at%20master%20%C2%B7%20jevonsflash%2Ffile-uploader-sample%20(github.com)%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%22sPQ4sc-1650438638496%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="file-uploader-sample/api at master · jevonsflash/file-uploader-sample (github.com)" data-widget="csdnlink" href="https://github.com/jevonsflash/file-uploader-sample/tree/master/api" title="file-uploader-sample/api at master · jevonsflash/file-uploader-sample (github.com)">file-uploader-sample/api at master · jevonsflash/file-uploader-sample (github.com)</a></span></p><p>项目地址：</p><p><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="0" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" data-cke-enter-mode="2" data-cke-saved-href="https://github.com/jevonsflash/file-uploader-sample" data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fgithub.com%2Fjevonsflash%2Ffile-uploader-sample%22%2C%22text%22%3A%22jevonsflash%2Ffile-uploader-sample%20(github.com)%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%227hpb0U-1650438638496%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="jevonsflash/file-uploader-sample (github.com)" data-widget="csdnlink" href="https://github.com/jevonsflash/file-uploader-sample" title="jevonsflash/file-uploader-sample (github.com)">jevonsflash/file-uploader-sample (github.com)</a></span></p><span data-cke-copybin-start="1"><span data-cke-copybin-end="1">​</span></span>